{"version":3,"sources":["componets/bank/Controls/Controls.jsx","componets/bank/Balance/Balance.jsx","componets/bank/TransactionHistory/TransactionHistory.jsx","componets/bank/Dashboard/Dashboard.jsx","App.jsx","index.js","componets/bank/Controls/Controls.module.css","componets/bank/Balance/Balance.module.css","componets/bank/TransactionHistory/TransactionHistory.module.css","componets/bank/Dashboard/Dashboard.module.css"],"names":["Controls","state","value","handleInput","e","setState","target","hadleDeposit","name","props","resetForm","this","className","style","controls","onSubmit","evt","preventDefault","type","input","onChange","button","onClick","React","Component","Balance","balance","history","deposit","filter","el","reduce","acc","Number","amount","withdraw","deposite","TransactionHistory","map","item","key","id","date","Dashboard","noMoney","toast","autoClose","unCorrectInput","createNewOperation","typeOperation","valueInput","dateOperation","Date","toLocaleString","shortid","generate","handleCkickDeposit","operation","prevState","handleCkickWithdraw","dashboard","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.c9febbd7.chunk.js","sourcesContent":["import React from \"react\";\nimport style from \"./Controls.module.css\";\nimport propTypes from \"prop-types\";\n\nclass Controls extends React.Component {\n  state = { value: \"\" };\n\n  handleInput = e => {\n    this.setState({ value: +e.target.value });\n  };\n  hadleDeposit = ({ target: { name } }) => {\n    this.props[name](this.state.value);\n    this.resetForm()\n  };\n  resetForm = () => {\n    this.setState({ value: \"\" });\n  };\n  render() {\n    const { value } = this.state;\n    return (\n      <section className={style.controls}>\n        <form onSubmit={evt => evt.preventDefault()}>\n          <input\n            type=\"number\"\n            className={style.input}\n            onChange={this.handleInput}\n            value={value}\n          />\n          <button\n            type=\"submit\"\n            className={style.button}\n            name=\"deposit\"\n            onClick={this.hadleDeposit}\n          >\n            Deposit\n          </button>\n          <button\n            type=\"submit\"\n            className={style.button}\n            name=\"withdraw\"\n            onClick={this.hadleDeposit}\n          >\n            Withdraw\n          </button>\n        </form>\n      </section>\n    );\n  }\n}\nexport default Controls;\n\nControls.propTypes = {\n  onInputChange: propTypes.func,\n  deposit: propTypes.func,\n  withdraw: propTypes.func,\n  resetForm: propTypes.string\n};\n","import React from \"react\";\nimport propTypes from \"prop-types\";\nimport style from \"./Balance.module.css\";\n\nconst Balance = ({ balance, history }) => {\n  const deposit = history\n    .filter(el => el.type === \"Deposit\")\n    .reduce((acc, el) => acc + Number(el.amount), 0);\n  const withdraw = history\n    .filter(el => el.type === \"Withdraw\")\n    .reduce((acc, el) => acc + Number(el.amount), 0);\n  return (\n    <section className={style.balance}>\n      <span className={style.deposite}>⬆ {deposit}$</span>\n      <span className={style.withdraw}>⬇ {withdraw}$</span>\n      <span>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nexport default Balance;\n\nBalance.propTypes = {\n  balance: propTypes.number,\n  withdraw: propTypes.number\n};\n","import React from \"react\";\nimport style from \"./TransactionHistory.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst TransactionHistory = ({ history = [] }) => {\n  return (\n    <table className={style.history}>\n      <thead>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {history.map(item => (\n          <tr key={item.id}>\n            <td>{item.type}</td>\n            <td>{item.amount}$</td>\n            <td>{item.date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\nexport default TransactionHistory;\n\nTransactionHistory.propTypes = {\n  history: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React from \"react\";\nimport Controls from \"../Controls/Controls\";\nimport Balance from \"../Balance/Balance\";\nimport TransactionHistory from \"../TransactionHistory/TransactionHistory\";\nimport shortid from \"short-id\";\nimport style from \"./Dashboard.module.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass Dashboard extends React.Component {\n  state = {\n    history: [],\n    balance: 0\n  };\n\n  noMoney = () =>\n    toast(\"На счету недостаточно средств для проведения операции!\", {\n      autoClose: 5000\n    });\n  unCorrectInput = () =>\n    toast(\"Введите сумму для проведения операции!\", { autoClose: 5000 });\n  createNewOperation = (typeOperation, valueInput) => {\n    const dateOperation = new Date().toLocaleString();\n    return {\n      id: shortid.generate(),\n      type: typeOperation,\n      amount: valueInput,\n      date: dateOperation\n    };\n  };\n\n  handleCkickDeposit = valueInput => {\n    if (valueInput > 0) {\n      const operation = this.createNewOperation(\"Deposit\", valueInput);\n      this.setState(prevState => {\n        return {\n          history: [operation, ...prevState.history],\n          balance: (prevState.balance += Number(operation.amount))\n        };\n      });\n    } else {\n      this.unCorrectInput();\n    }\n  };\n\n  handleCkickWithdraw = valueInput => {\n    if (valueInput > 0) {\n      const operation = this.createNewOperation(\"Withdraw\", valueInput);\n      this.setState(prevState => {\n        if (this.state.balance >= valueInput) {\n          return {\n            balance: (prevState.balance -= Number(operation.amount)),\n            history: [operation, ...prevState.history]\n          };\n        } else {\n          this.noMoney();\n        }\n      });\n    } else {\n      this.unCorrectInput();\n    }\n  };\n\n  render() {\n    const { history, balance } = this.state;\n    return (\n      <div className={style.dashboard}>\n        <Controls\n          deposit={this.handleCkickDeposit}\n          withdraw={this.handleCkickWithdraw}\n        />\n        <ToastContainer />\n        <Balance balance={balance} history={history} />\n        <TransactionHistory history={history} />\n      </div>\n    );\n  }\n}\nexport default Dashboard;\n","import React from \"react\";\nimport Dashboard from \"./componets/bank/Dashboard/Dashboard\";\n\nconst App = () => <Dashboard />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__EXSwi\",\"button\":\"Controls_button__1INCZ\",\"input\":\"Controls_input__3Lma8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__2oOFW\",\"deposite\":\"Balance_deposite__Cq4YK\",\"withdraw\":\"Balance_withdraw__ZZ1h6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__3MrXT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__AmnrB\"};"],"sourceRoot":""}