{"version":3,"sources":["componets/bank/Controls/Controls.jsx","componets/bank/Balance/Balance.jsx","componets/bank/TransactionHistory/TransactionHistory.jsx","componets/bank/Dashboard/Dashboard.jsx","App.jsx","index.js","componets/bank/Controls/Controls.module.css","componets/bank/Balance/Balance.module.css","componets/bank/TransactionHistory/TransactionHistory.module.css","componets/bank/Dashboard/Dashboard.module.css"],"names":["Controls","state","value","handleInput","e","setState","target","hadleDeposit","props","deposit","resetForm","handleWithdraw","withdraw","this","className","style","controls","onSubmit","evt","preventDefault","type","input","onChange","button","name","onClick","React","Component","Balance","balance","history","filter","el","reduce","acc","Number","amount","deposite","TransactionHistory","map","item","key","id","date","Dashboard","noMoney","toast","autoClose","unCorrectInput","createNewOperation","typeOperation","valueInput","dateOperation","Date","toLocaleString","shortid","generate","handleCkickDeposit","operation","prevState","handleCkickWithdraw","dashboard","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d8f2e6de.chunk.js","sourcesContent":["import React from \"react\";\nimport style from \"./Controls.module.css\";\nimport propTypes from \"prop-types\";\n\nclass Controls extends React.Component {\n  state = { value: \"\" };\n\n  handleInput = e => {\n    this.setState({ value: +e.target.value });\n  };\n  hadleDeposit = () => {\n    this.props.deposit(this.state.value);\n    this.resetForm()\n  };\n  handleWithdraw = () => {\n    this.props.withdraw(this.state.value);\n    this.resetForm()\n  };\n  resetForm = () => {\n    this.setState({ value: \"\" });\n  };\n  render() {\n    const { value } = this.state;\n    return (\n      <section className={style.controls}>\n        <form onSubmit={evt => evt.preventDefault()}>\n          <input\n            type=\"number\"\n            className={style.input}\n            onChange={this.handleInput}\n            value={value}\n          />\n          <button\n            type=\"submit\"\n            className={style.button}\n            name=\"deposit\"\n            onClick={this.hadleDeposit}\n          >\n            Deposit\n          </button>\n          <button\n            type=\"submit\"\n            className={style.button}\n            name=\"withdraw\"\n            onClick={this.handleWithdraw}\n          >\n            Withdraw\n          </button>\n        </form>\n      </section>\n    );\n  }\n}\nexport default Controls;\n\nControls.propTypes = {\n  onInputChange: propTypes.func,\n  deposit: propTypes.func,\n  withdraw: propTypes.func,\n  resetForm: propTypes.string\n};\n","import React from \"react\";\nimport propTypes from \"prop-types\";\nimport style from \"./Balance.module.css\";\n\nconst Balance = ({ balance, history }) => {\n  const deposit = history\n    ? history\n        .filter(el => el.type === \"Deposit\")\n        .reduce((acc, el) => acc + Number(el.amount), 0)\n    : 0;\n  const withdraw = history\n    ? history\n        .filter(el => el.type === \"Withdraw\")\n        .reduce((acc, el) => acc + Number(el.amount), 0)\n    : 0;\n  return (\n    <section className={style.balance}>\n      <span className={style.deposite}>⬆ {deposit}$</span>\n      <span className={style.withdraw}>⬇ {withdraw}$</span>\n      <span>Balance: {balance}$</span>\n    </section>\n  );\n};\n\nexport default Balance;\n\nBalance.propTypes = {\n  balance: propTypes.number,\n  withdraw: propTypes.number\n};\n","import React from \"react\";\nimport style from \"./TransactionHistory.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst TransactionHistory = ({ history = [] }) => {\n  return (\n    <table className={style.history}>\n      <thead>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {history.map(item => (\n          <tr key={item.id}>\n            <td>{item.type}</td>\n            <td>{item.amount}$</td>\n            <td>{item.date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\nexport default TransactionHistory;\n\nTransactionHistory.propTypes = {\n  history: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React from \"react\";\nimport Controls from \"../Controls/Controls\";\nimport Balance from \"../Balance/Balance\";\nimport TransactionHistory from \"../TransactionHistory/TransactionHistory\";\nimport shortid from \"short-id\";\nimport style from \"./Dashboard.module.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass Dashboard extends React.Component {\n  state = {\n    history: [],\n    balance: 0\n  };\n  // deposit = 0;\n  withdraw = 0;\n\n  noMoney = () =>\n    toast(\"На счету недостаточно средств для проведения операции!\", {\n      autoClose: 5000\n    });\n  unCorrectInput = () =>\n    toast(\"Введите сумму для проведения операции!\", { autoClose: 5000 });\n  createNewOperation = (typeOperation, valueInput) => {\n    const dateOperation = new Date().toLocaleString();\n    return {\n      id: shortid.generate(),\n      type: typeOperation,\n      amount: valueInput,\n      date: dateOperation\n    };\n  };\n\n  handleCkickDeposit = valueInput => {\n    if (valueInput > 0) {\n      const operation = this.createNewOperation(\"Deposit\", valueInput);\n      this.setState(prevState => {\n        return {\n          history: [operation, ...prevState.history],\n          balance: (prevState.balance += Number(operation.amount))\n        };\n      });\n    } else {\n      this.unCorrectInput();\n    }\n  };\n\n  handleCkickWithdraw = valueInput => {\n    if (valueInput && valueInput > 0) {\n      const operation = this.createNewOperation(\"Withdraw\", valueInput);\n      this.setState(prevState => {\n        if (this.state.balance >= valueInput) {\n          return {\n            balance: (prevState.balance -= Number(operation.amount)),\n            history: [operation, ...prevState.history]\n          };\n        } else {\n          this.noMoney();\n        }\n      });\n    } else {\n      this.unCorrectInput();\n    }\n  };\n\n  render() {\n    const { history, balance } = this.state;\n    return (\n      <div className={style.dashboard}>\n        <Controls\n          deposit={this.handleCkickDeposit}\n          withdraw={this.handleCkickWithdraw}\n        />\n        <ToastContainer />\n        <Balance balance={balance} history={history} />\n        <TransactionHistory history={history} />\n      </div>\n    );\n  }\n}\nexport default Dashboard;\n","import React from \"react\";\nimport Dashboard from \"./componets/bank/Dashboard/Dashboard\";\n\nconst App = () => <Dashboard />;\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__EXSwi\",\"button\":\"Controls_button__1INCZ\",\"input\":\"Controls_input__3Lma8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__2oOFW\",\"deposite\":\"Balance_deposite__Cq4YK\",\"withdraw\":\"Balance_withdraw__ZZ1h6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__3MrXT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__AmnrB\"};"],"sourceRoot":""}